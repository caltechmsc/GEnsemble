#!/usr/bin/env python

from numpy import zeros, Float, pi, sin, cos, sqrt, exp
                                                                                                                              
def Rec(param):
    length = len(param)
    assert length in (3,4), 'Length of parameter list out of range!'
    r,r0,n = param[:3]
    if length==4:
        D = param[-1]
    else:
        D = 1
    return D*(r0/r)**n
                                                                                                                              
def Exp(param):
    assert len(param)==4, 'Length of parameter list out of range!'
    r,r0,n,D = param
    return D*exp(-n*(r/r0-1))
                                                                                                                              
def Sqrt(param):
    length = len(param)
    assert length in (1,2), 'Length of parameter list out of range!'
    r = param[0]
    if length==2:
        c = param[-1]
    else:
        c = 1
    return -sqrt(c*r)
                                                                                                                              
def checkOpen(defpaths, filename):
    pathlist = defpaths.split(':')
    for path in pathlist:
        try:
            fp = open(path+filename, 'r')
            print 'Open', path+filename, 'successfully',
            break
        except IOError:
            pass
    else:
        print "Can't open", filename, 'in the following default directories:'
        print pathlist
        raise
    return fp
