import string

def getMemoryInfo():
    """ XXX Linux, what whould be a general case?
    resource.setrlimit ?"""
    
    try: file = open('/proc/meminfo','r')
    except IOError: return 64*1024*1024
    l = file.readlines()
    file.close()
    a = string.split(filter(lambda x: x[:8] == 'MemTotal',l)[0])
    if a[2] == 'kB': mem = int(a[1])*1024
    else: mem = int(a[1]) # hehe
    return mem
    
